schema: '2.0'
stages:
  ingestion:
    cmd: python src/document_iq_dl/components/data_ingestion.py
    deps:
    - path: data/raw/FUNSD
      hash: md5
      md5: 3ce75d0190cf7518f8ebaadd888fcf4b.dir
      size: 27779251
      nfiles: 400
    - path: src/document_iq_dl/components/data_ingestion.py
      hash: md5
      md5: 4aab42e719100a64841f6242e73e5602
      size: 1662
    outs:
    - path: data/interim/funsd_blocks.json
      hash: md5
      md5: db1a10196337f982f62c68a53ec6af12
      size: 1602102
  validation:
    cmd: python src/document_iq_dl/components/data_validation.py
    deps:
    - path: data/interim/funsd_blocks.json
      hash: md5
      md5: db1a10196337f982f62c68a53ec6af12
      size: 1602102
    - path: src/document_iq_dl/components/data_validation.py
      hash: md5
      md5: c5a2d155bea07bb3f61b27173efd871d
      size: 3338
    outs:
    - path: artifacts/validation_report.json
      hash: md5
      md5: 8b7839d6ffa7fd7b45882b9218009f0e
      size: 185
  transformation:
    cmd: python src/document_iq_dl/components/data_transformation.py
    deps:
    - path: data/interim/funsd_blocks.json
      hash: md5
      md5: db1a10196337f982f62c68a53ec6af12
      size: 1602102
    - path: src/document_iq_dl/components/data_transformation.py
      hash: md5
      md5: 4c045380b03d8ace51ba2c7685e27fe2
      size: 2418
    outs:
    - path: data/processed
      hash: md5
      md5: 5a26fa3f0d83b441dcda0fb8a28141f5.dir
      size: 144691626
      nfiles: 7412
  training:
    cmd: python src/document_iq_dl/components/model_trainer.py
    deps:
    - path: configs/training.yaml
      hash: md5
      md5: ba38da2e17f5465873cac37e18c59289
      size: 367
    - path: data/processed
      hash: md5
      md5: 5a26fa3f0d83b441dcda0fb8a28141f5.dir
      size: 144691626
      nfiles: 7412
    - path: src/document_iq_dl/components/model_trainer.py
      hash: md5
      md5: 36fc21c33542ca595eefb277695af7fd
      size: 5475
    - path: src/document_iq_dl/datasets/funsd_dataset.py
      hash: md5
      md5: 8f8e161d928b4fbb646afedd0af553b4
      size: 1906
    - path: src/document_iq_dl/models/layout_classifier.py
      hash: md5
      md5: e368a19bfca09dc249bacbbf8837d4be
      size: 551
    outs:
    - path: artifacts/model
      hash: md5
      md5: 5abc5d232e93fefa86c6d41048ac1600.dir
      size: 44785111
      nfiles: 2
  evaluation:
    cmd: python src/document_iq_dl/components/model_evaluation.py
    deps:
    - path: artifacts/model
      hash: md5
      md5: 5abc5d232e93fefa86c6d41048ac1600.dir
      size: 44785111
      nfiles: 2
    - path: configs/training.yaml
      hash: md5
      md5: ba38da2e17f5465873cac37e18c59289
      size: 367
    - path: data/processed
      hash: md5
      md5: 5a26fa3f0d83b441dcda0fb8a28141f5.dir
      size: 144691626
      nfiles: 7412
    - path: src/document_iq_dl/components/model_evaluation.py
      hash: md5
      md5: 2c289c796ea75712d632c3075448d05a
      size: 3403
    outs:
    - path: artifacts/evaluation
      hash: md5
      md5: 27c44301b74dfa9a9c29106c50d6a2a1.dir
      size: 77
      nfiles: 1
  yolo_data_ingestion:
    cmd: python src/document_iq_dl/components/yolo_data_ingestion.py
    deps:
    - path: data/raw/FUNSD
      hash: md5
      md5: 3ce75d0190cf7518f8ebaadd888fcf4b.dir
      size: 27779251
      nfiles: 400
    - path: src/document_iq_dl/components/yolo_data_ingestion.py
      hash: md5
      md5: 876fec4e83c8b5a0a45ada2917c6d272
      size: 1143
    - path: src/document_iq_dl/datasets/funsd_to_yolo.py
      hash: md5
      md5: 28a27ce1b855776d108306614ef4c0fe
      size: 5360
    outs:
    - path: data/yolo
      hash: md5
      md5: 2b9640a1ae8f33006f51e91d99d581e3.dir
      size: 16707628
      nfiles: 399
  yolo_data_validation:
    cmd: python src/document_iq_dl/components/yolo_data_validation.py
    deps:
    - path: data/yolo
      hash: md5
      md5: 2b9640a1ae8f33006f51e91d99d581e3.dir
      size: 16707628
      nfiles: 399
    - path: src/document_iq_dl/components/yolo_data_validation.py
      hash: md5
      md5: 7eb68946a865dc21fb70d360887c0d2c
      size: 3585
    outs:
    - path: artifacts/dataset
      hash: md5
      md5: df6f1802fa88f797c30e7c590b5a40ce.dir
      size: 248
      nfiles: 1
  yolo_training:
    cmd: python src/document_iq_dl/components/yolo_model_trainer.py
    deps:
    - path: configs/yolo_training.yaml
      hash: md5
      md5: 6893bdeaed9e0613b3a5e919c7f625b4
      size: 262
    - path: data/yolo
      hash: md5
      md5: 5646ea1137208295d0092b49d8e79e33.dir
      size: 16946932
      nfiles: 401
    - path: src/document_iq_dl/components/yolo_model_trainer.py
      hash: md5
      md5: 8eefcfdb342db715bd57d751c897f10f
      size: 4231
    outs:
    - path: artifacts/yolo_model
      hash: md5
      md5: f185523259831318ec35a0dd341d3a3d.dir
      size: 73796064
      nfiles: 25
  yolo_evaluation:
    cmd: python src/document_iq_dl/components/yolo_model_evaluation.py
    deps:
    - path: artifacts/yolo_model
      hash: md5
      md5: 59067ca92328e3cca042e39e671014a9.dir
      size: 81092085
      nfiles: 39
    - path: src/document_iq_dl/components/yolo_model_evaluation.py
      hash: md5
      md5: 3fd957ad75de3a61a6b6660c63bbd162
      size: 4468
